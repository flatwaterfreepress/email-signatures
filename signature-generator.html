<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta http-equiv="content-type" content="text/html" charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- ClipboardJS for the copy code functionality -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
	
	<style>
		
		body { font-family: sans-serif; }
		
		div.topper { border-bottom: 1px solid #eee; margin: 30px; }
		div.topper ol { color: #777; line-height: 1.5; font-size: 80%; }
		div.signature-generator { display: flex; flex-wrap: wrap; column-gap: 30px; margin: 0 30px;}
		
		div.inputs { padding: 40px; background: #f2f2f2;flex-grow: 1; font-size: 12px; margin-bottom: 30px; }
		div.output { flex-grow: 7; margin-bottom: 30px; }
		div#signature-code { background: #fff; border: 5px solid #000; padding: 40px; margin-bottom: 30px; }
		
		form div { margin-bottom: 10px; display: flex;}
		form div label { width: 100px; }

		div#code-output { margin-top: 40px; font-family: ui-monospace, monospace; border: 2px solid #ccc; padding: 20px; font-size: 12px; display: none; }
						
		/* p#signatureSocial > *:not(:last-child)::after, p#signaturePhoneNumbers > *:not(:last-child)::after  { content: " / ";} */
		
		
	</style>

</head>

<body>
	<div class="topper">
		
		<h1>Email signature generator</h1>
		
		<ol>
			<li>Adjust the settings using the fields on the left side</li>
			<li>Click Submit to see updated signature changes</li>
			<li>Copy signature to clipboard</li>
			<li>Create a new signature in Gmail and paste in the copied signature</li>
		</ol>
	</div>
	
	<div class="signature-generator">
		
		<div class="inputs">
		
			<form id="info-form">
				
				<div class="form-logo">
					<label id="logo-label" for="nameField">Logo</label>
					<select id="logoField" name="logos">
						<option value="ffp">Flatwater Free Press</option>
						<option value="spn">Silicon Prairie News</option>
						<option value="njt">Nebraska Journalism Trust</option>
					</select>
				</div>
				
				
				<div class="form-name">
					<label id="name-label" for="nameField">Name</label>
					<input id="nameField" type="text" maxlength="100" placeholder="First and last"></input>
				</div>
				
				<div class="form-pronouns">
					<label id="pronouns-label" for="nameField">Pronouns</label>
					<input id="pronounsField" type="text" maxlength="100" placeholder="No parentheses"></input>
				</div>
	
				<div class="form-jobtitle">
					<label id="job-label" for="jobField">Job title</label>
					<input id="jobField" type="text" maxlength="100"></input>
				</div>
	
				<div class="form-organization">
					<label id="org-label" for="Field">Organization</label>
					<select id="orgField" name="org-names">
						<option value="Flatwater Free Press">Flatwater Free Press</option>
						<option value="Silicon Prairie News">Silicon Prairie News</option>
						<option value="Nebraska Journalism Trust">Nebraska Journalism Trust</option>
					</select>				
				</div>
	
				<div class="form-email">
					<label id="email-label" for="emailField">Email</label>
					<input id="emailField" type="text" maxlength="100"></input>
				</div>
				
				<div class="form-phone1">
					<label id="phone1-label" for="phone1Field">Direct phone number</label>
					<input id="phone1Field" type="text" maxlength="100"></input>
				</div>
				
				<div class="form-phone2">
					<label id="phone2-label" for="phone2Field">Office Phone Number</label>
					<input id="phone2Field" type="text" maxlength="100"></input>
				</div>
				
				<div class="form-website-text">
					<label id="website-text-label" for="websiteTextField">Website</label>
					<select id="websiteTextField" name="website-text">
						<option value="flatwaterfreepress.org">flatwaterfreepress.org</option>
						<option value="siliconprairienews.com">siliconprairienews.com</option>
						<option value="nebraskajournalismtrust.org">nebraskajournalismtrust.org</option>
					</select>
				</div>
				
				<div class="form-linkedin">
					<label id="linkedin-label" for="linkedinField">LinkedIn</label>
					<input id="linkedinField" type="text" maxlength="300"  placeholder="Include full URL https://"></input>
				</div>
				
				<div class="form-twitter">
					<label id="twitter-label" for="twitterField">Twitter</label>
					<input id="twitterField" type="text" maxlength="300" placeholder="Include full URL https://"></input>
				</div>
				
				<div class="form-instagram">
					<label id="instagram-label" for="instagramField">Instagram</label>
					<input id="instagramField" type="text" maxlength="300" placeholder="Include full URL https://"></input>
				</div>
				
				<div class="form-facebook">
					<label id="facebook-label" for="facebookField">Facebook</label>
					<input id="facebookField" type="text" maxlength="300" placeholder="Include full URL https://"></input>
				</div>
				
				<!--
				<div class="form-promo">
					<label id="promo-label" for="promoField">Promo</label>
					<textarea id="promoField" placeholder="Optional text or html"></textarea>
				</div>
				-->
				
				<div class='form-sub'>
					<button id='subButton' type='button'>Submit</button>
				</div>
	
			</form>

			<div>
				<p id='result'></p>
			</div>

	</div><!-- end inputs -->

	<div class="output">

	<!-- -------------------- START email signature -------------------- -->
	
	<div id="signature-code">
	<div class="signature" id="email-signature" style="margin: 30px 0; width: 100%;">
		<table style="margin: 25px 0 15px; border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding: 25px 0 25px; width: 100%; font-size: 16px; font-family: sans-serif; line-height: 1.3;">
			<tbody>
				<tr>
					<td class="logo" id="signatureLogo" style="width: 70px; vertical-align: top;">
						<a href="https://flatwaterfreepress.org" target="_blank" style="color: inherit;"><img src="https://flatwaterfreepress.org/wp-content/uploads/2021/08/flaterwater-round-small-2.png" width="60" style="display: block; max-width: 60px;" /></a>
					</td>
					<td class="name-block" style="vertical-align: top;">
						<p style="margin: 0; line-height: 1.4;"><strong><span id="signatureName">Firstname Lastname</span></strong><span class="pronouns" style="font-size: 80%; color: #999; padding-left: 5px;" id="signaturePronouns">pro/nouns</span></p>
						<span style="font-size: 0.8rem;">
							  <p id="signatureJob" style="margin: 0; line-height: 1.4;">Job title</p>
							  <p id="signatureOrg" style="margin: 0; line-height: 1.4;">Organization</p>
						  </span>
					</td>
				</tr>

				<tr>
					<td style="vertical-align: top;">&nbsp;</td>
					<td class="contact-info" style="vertical-align: top; font-size: 0.75rem; color: #777; padding: 10px 0 0;">
						<p id="signatureEmail" style="margin: 0;">email@address</p>
						<p style="margin: 5px 0 0;" id="signaturePhoneNumbers"><span id="signaturePhone1">Direct: 555-555-5555</span><span id="signaturePhone2"> / Office: 555-555-5555</span></p>
						<p id="signatureWebsite" style="margin: 5px 0 0;">website.com</p>
						<p id="signatureSocial" style="margin: 5px 0 0;"><span id="signatureFacebook">Facebook</span><span id="signatureTwitter"> / Twitter</span><span id="signatureInstagram"> / Instagram</span><span id="signatureLinkedIn"> / LinkedIn</span></p>
					</td>
				</tr>
				
				<tr>
			</tbody>
		</table>

		<p class="promos" style="color: #aaa; font-family: sans-serif; line-height: 1.2; padding: 0 10px; font-size: 0.7rem;" id="signaturePromo"><a href="https://flatwaterfreepress.org/festival" target="_blank" style="color: #999;"><img src="https://flatwaterfreepress.org/wp-content/uploads/2021/08/flat-fest-promo.jpg" style="width:300px;" /></a></p>

	</div>
	
	</div>
	
	<!-- -------------------- END email signature -------------------- -->

	<button class="btn" data-clipboard-target="#email-signature">
		Copy to clipboard
	</button>
	
	</div><!-- end output div -->
	

	</div><!-- end signature-generator -->
	
	<div id="code-output">
		<pre style="color: #aaa;">When finished, copy code from here into the signature settings in your email program.</pre>
	</div>

  </body>
  
  <script>
	  
	  	var personLogo = document.getElementById('signatureLogo');
		var personName = document.getElementById('signatureName');
		var personPronouns = document.getElementById('signaturePronouns');
		var personJob = document.getElementById('signatureJob');
		var personOrg = document.getElementById('signatureOrg');
		var personEmail = document.getElementById('signatureEmail');
		var personPhones = document.getElementById('signaturePhoneNumbers');
		var personPhone1 = document.getElementById('signaturePhone1');
		var personPhone2 = document.getElementById('signaturePhone2');
		var personWebsite = document.getElementById('signatureWebsite');
		var personSocial = document.getElementById('signatureSocial');
		var personLinkedin = document.getElementById('signatureLinkedIn');
		var personTwitter = document.getElementById('signatureTwitter');
		var personFacebook = document.getElementById('signatureFacebook');
		var personInstagram = document.getElementById('signatureInstagram');
		// var personPromo = document.getElementById('signaturePromo');
		
		var codeOutput = document.getElementById('code-output');
	  
	  function getUserInfo() {
  		var logoField = document.getElementById('logoField').value;
  		var nameField = document.getElementById('nameField').value;
  		var pronounsField = document.getElementById('pronounsField').value;
  		var jobField = document.getElementById('jobField').value;
  		var orgField = document.getElementById('orgField').value;
  		var emailField = document.getElementById('emailField').value;
  		var phone1Field = document.getElementById('phone1Field').value;
  		var phone2Field = document.getElementById('phone2Field').value;
  		var websiteTextField = document.getElementById('websiteTextField').value;
  		var linkedinField = document.getElementById('linkedinField').value;
  		var twitterField = document.getElementById('twitterField').value;
  		var facebookField = document.getElementById('facebookField').value;
  		var instagramField = document.getElementById('instagramField').value;
  		// var promoField = document.getElementById('promoField').value;
  		
  		var result = document.getElementById('result');
  		
  		
  		var ffp_logo = 'https://flatwaterfreepress.org/wp-content/uploads/2021/08/flaterwater-round-small-2.png';
  		var ffp_link = 'https://flatwaterfreepress.org';
  		
  		var spn_logo = 'https://siliconprairienews.com/wp-content/uploads/2024/02/spn-logo-orange-white-letters-150x150.png';
  		var spn_link = 'https://siliconprairienews.org';
	
  		var njt_logo = 'https://nebraskajournalismtrust.org/wp-content/uploads/2023/08/new-njt.jpg';
  		var njt_link = 'https://nebraskajournalismtrust.org';
	  		
  		function getLogo() {
	  		if (logoField == "ffp") { 
		  		personLogo.innerHTML = "<a href='" + ffp_link + "' target='_blank' style='color:inherit;'><img src='" + ffp_logo + "' width='60' /></a>";
	  		};
	  		if (logoField == "spn") { 
		  		personLogo.innerHTML = "<a href='" + spn_link + "' target='_blank' style='color:inherit;'><img src='" + spn_logo + "' width='60' /></a>";
	  		};
	  		if (logoField == "njt") { 
		  		personLogo.innerHTML = "<a href='" + njt_link + "' target='_blank' style='color:inherit;'><img src='" + njt_logo + "' width='60' /></a>";
	  		};
  		}
  		
  		function website() {
			  var ffp = "https://www.flatwaterfreepress.org";
			  var spn = "https://www.siliconprairienews.com";
			  var njt = "https://www.nebraskajournalismtrust.org";
			  
			  if (websiteTextField == "flatwaterfreepress.org") {
	  				personWebsite.innerHTML = "<a href='" + ffp + "' style='text-decoration: none; color: inherit;'>" + websiteTextField + "</a>"
				  
			  }
			  if (websiteTextField == "siliconprairienews.com") {
	  				personWebsite.innerHTML = "<a href='" + spn + "' style='text-decoration: none; color: inherit;'>" + websiteTextField + "</a>"
				  
			  }
			  if (websiteTextField == "nebraskajournalismtrust.org") {
	  				personWebsite.innerHTML = "<a href='" + njt + "' style='text-decoration: none; color: inherit;'>" + websiteTextField + "</a>"
				  
			  }
			  
  		}
		  
		function phones(phone1Field,phone2Field) {
			if(phone1Field && !phone2Field) {
				return "Direct: " + phone1Field;
			}
			if(phone1Field && phone2Field) {
				return "Direct: " + phone1Field + " / Office: " + phone2Field;
			}
			if(!phone1Field && phone2Field) {
				return "Office: " + phone2Field;
			}
			if(!phone1Field && !phone2Field) {
				return "";
			}
		}
  		
  		function email() {
	  		personEmail.innerHTML = "<a href='mailto:" + emailField + "' style='text-decoration: none; color: inherit;'>" + emailField + "</a>"
  		}
		

		function socialLinks() {
			
			const fb = { name:"Facebook", url:facebookField };
			const ig = { name:"Instagram", url:instagramField };
			const tw = { name: "Twitter", url:twitterField };
			const li = { name: "LinkedIn", url:linkedinField };
			
			const variablesToCheck = [ fb, ig, tw, li ];
			const container = document.createElement('div');
		
			variablesToCheck.forEach((element) => {
				console.log(element);
				if (element.url.trim() !== '') {
					const variableValue = element.url.trim();
					const span = document.createElement('span');
					const link = document.createElement('a');
					
					link.href = variableValue;
					link.textContent = element.name;
					link.style.color = 'inherit';
					link.style.textDecoration = 'none';
					span.appendChild(link);
					container.appendChild(span);
				}
			});
			
			const outputDiv = document.createElement('div');
			outputDiv.innerHTML = '';
			
			// Append all links and add '/' after each except the last one
			container.querySelectorAll('a').forEach((link, index, links) => {
				outputDiv.appendChild(link);
				if (index < links.length - 1) {
					outputDiv.appendChild(document.createTextNode(' / '));
				}
				container.appendChild(outputDiv);
			});
		
			return container.innerHTML;
		}
		
		
  		
  		if (nameField.length < 3) {
	  		result.innerHTML = 'Name field must contain at least 3 characters';
  		} else {
	 		
	 		if (personLogo) { getLogo(logoField); };
	 		if (nameField) { personName.innerHTML = nameField; };
	 		if (personPronouns !== "") { personPronouns.innerHTML = pronounsField };
	 		if (personJob) { personJob.innerHTML = jobField; };
	 		if (personOrg) { personOrg.innerHTML = orgField; };
	 		if (personEmail) { email(emailField); };
	 		personPhones.innerHTML = phones(phone1Field, phone2Field);
			personSocial.innerHTML = socialLinks(facebookField,instagramField,twitterField,linkedinField);
			 if (websiteTextField !== "") { website(websiteTextField) };
	 		// if (personPromo) { personPromo.innerHTML = promoField; };
			
				  		
  		}
	  } // getUserInfo
	  
	  	  
		function printDiv() {
			var divContents = document.getElementById("signature-code").innerHTML;
			codeOutput.innerText = divContents;
		}	  

	  
	  var subButton = document.getElementById('subButton');
	  subButton.addEventListener('click', getUserInfo, false); 
	  subButton.addEventListener('click', printDiv, false); 
	  

	  
  </script>
  
  <script>
	  new ClipboardJS('.btn');
  </script>
  
</html>
